<div *ngIf = 'this.mensagens; else carregando'>
    <div class = 'container-fluid mt-3'>

        <ul class="nav nav-tabs">
    
            <li class="nav-item">
                <a [routerLink]="['/../mensagens']" class="nav-link active">
                    Mensagens Enviadas
                </a>
            </li> 
    
            <li class="nav-item">
              <a [routerLink]="['/../nova-mensagem']" class="nav-link">
                Nova Mensagem
                </a>
            </li>   
        </ul>
    
        <div class = 'custom-size'>
        
            <table mat-table [dataSource]="this.mensagens">
                
                <ng-container matColumnDef="dtExp">
                    <th mat-header-cell *matHeaderCellDef> Data de Expiração </th>
                    <td mat-cell *matCellDef="let element"> {{element.dtExpiracao}} </td>
                </ng-container>
    
                <ng-container matColumnDef="tpMsg">
                    <th mat-header-cell *matHeaderCellDef> Tipo da Mensagem </th>
                    <td mat-cell *matCellDef="let element"> {{element.tpMsg}} </td>
                </ng-container>
    
                <ng-container matColumnDef="dtCriacao">
                    <th mat-header-cell *matHeaderCellDef> Data de Criação </th>
                    <td mat-cell *matCellDef="let element"> {{element.dtCriacao}} </td>
                </ng-container>
                
                <ng-container matColumnDef="resp">
                    <th mat-header-cell *matHeaderCellDef> Responsável </th>
                    <td mat-cell *matCellDef="let element"> {{element.responsavel | titlecase}} </td>
                </ng-container>
    
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="colunas; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: colunas;" ></tr>
    
            </table>
        </div>       
    </div>
</div>

<ng-template #carregando>

    <div class = 'container-fluid d-flex justify-content-center align-items-center mt-5'>
      <i class="fa fa-refresh fa-spin fa-4x" aria-hidden="true"></i>
    </div>
    
  </ng-template>