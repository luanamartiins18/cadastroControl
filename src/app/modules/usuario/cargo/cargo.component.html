
<div class='principal'>
  <ul class="nav nav-tabs">
    <li class="nav-item">
      <a [routerLink]="['/../usuarios']" class="nav-link">
        <i class="fa fa-users" aria-hidden="true"></i>
        Lista de Usuários
      </a>
    </li>
    <li class="nav-item">
      <a [routerLink]="['/../novo-usuario']" class="nav-link active">
        <i class="fa fa-user-plus" aria-hidden="true"></i>
        Cadastro
      </a>
      <li class="nav-item">
        <a [routerLink]="['/../funcao']" class="nav-link active">
          <i class="fa fa-user-plus" aria-hidden="true"></i>
          Função
        </a>
    </li>
  </ul>
  <form [formGroup]='form'>
    <div class='container'>  
        <div id="matricula">
          <Label class="font-weight-bold">Matricula</Label>
          <input 
          formControlName='codigoRe' 
          [(ngModel)]="usuario.codigoRe" 
          type='text' 
          (blur)="getNome($event)"
          placeholder="RExxxxxx"
          maxlength="8"
          class='form-control' />
        </div>
        <div id="nome">
          <Label class="font-weight-bold">Nome</Label>
          <input 
            disabled class='form-control' 
            value={{usuario?.nome?.toUpperCase()}} 
            type='text'
            class='form-control' />
        </div>
        <!-- input cargo -->
          <div id='cargo'>
            <label class="font-weight-bold">Cargo</label>
              <select 
              formControlName='cargo' 
              class='form-control' 
              [(ngModel)]="usuario.cargo">
              <option [ngValue]="item"
                type='text'
                [selected]=" usuario.cargo && usuario.cargo.id==item.id"
                  *ngFor='let item of this.listaCargo'>{{item.descricao}} </option>
              </select>
          </div>
               <!-- input tipo -->
               <div id='tipo'>
                <label class="font-weight-bold">Tipo</label>
                <select 
                formControlName='tipo' 
                class='form-control' 
                [(ngModel)]="usuario.tipo">
                <option [ngValue]="item"
                 class='form-control' 
                 [selected]=" usuario.tipo && usuario.tipo.id==item.id"
                    *ngFor='let item of this.listaTipo'>{{item.descricao}}</option>
                </select>
              </div>
              <!-- input bu -->
              <div id='bu'>
                <label class="font-weight-bold">Área Negócio</label>
                <select 
                formControlName='bu' 
                class='form-control' 
                style="width: 520px" 
                [(ngModel)]="usuario.bu">
                <option [ngValue]="item"
                 class='form-control' 
                 [selected]=" usuario.bu && usuario.bu.id==item.id"
                    *ngFor='let item of this.listaBu'>{{item.descricao}}</option>
                </select>
            </div>
            <div class="container">
              <div class='col-sm-4'>
                <input (click)='submit()'
                type="submit" 
                value="Inserir" 
                class='button' />
              </div>
            </div>
      </div>
  </form>
  <div class="tabelaHistorico"  >
    <table mat-table [dataSource]=" historico" matSort>
      <ng-container matColumnDef="cargo">
        <th mat-header-cell *matHeaderCellDef> CARGO</th>
        <td mat-cell *matCellDef="let element"> {{element.cargo.descricao}} </td>
      </ng-container>
      <ng-container matColumnDef="data_inicio">
        <th mat-header-cell *matHeaderCellDef>DATA_INICIO</th>
        <td mat-cell *matCellDef="let element"> {{element.data_inicio | date : 'dd/MM/yyyy'}} </td>
      </ng-container>
      <ng-container matColumnDef="data_final">
        <th mat-header-cell *matHeaderCellDef>DATA_FINAL</th>
        <td mat-cell *matCellDef="let element"> {{element.data_final | date : 'dd/MM/yyyy'}} </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="colunas; sticky: true"></tr>
      <tr class='custom-row' mat-row *matRowDef="let row; columns: colunas;"></tr>
    </table>
  </div>
</div>

