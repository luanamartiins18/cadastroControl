<div *ngIf='pagCarregada; else carregando'>
  <i [routerLink]='["/../ordem-fornecimento"]' class="fa fa-arrow-left ico fa-2x"></i>
  <div class='container-fluid'>
    <div class='container border-bottom pb-2'>
      <h4 class='text-muted'>Ordem de Fornecimento: {{ordemF.numeroOFGenti +" - "+ ordemF.sigla.descricao}}</h4>
    </div>
    <div class='container mt-5'>
      <div class='form-group row'>
        <div class='col-sm-4'>
          <label class="font-weight-bold">Número da OF</label>
          <input readonly class='form-control' [value]='this.ordemF.numeroOF' />
        </div>
        <div class='col-sm-4'>
          <label class="font-weight-bold">Número da OF - Genti</label>
          <input readonly class='form-control' [value]='this.ordemF.numeroOFGenti' />
        </div>
        <div class='col-sm-4'>
          <label class="font-weight-bold">Fábrica </label>
          <input readonly class='form-control' [value]='this.ordemF.fabrica' />
        </div>
        <div class='col-sm-12 mt-2'>
          <label class="font-weight-bold">Tema</label>
          <input readonly class='form-control' [value]='this.ordemF.tema' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Agil</label>
          <input readonly class='form-control' [value]='this.ordemF.agil' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Usti BB</label>
          <input readonly class='form-control' [value]='this.ordemF.ustiBB' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">UOR ???</label>
          <input readonly class='form-control' [value]='this.ordemF.uor' />
        </div>
        <div class='col-sm-1 mt-2 '></div>
        <div class='col-sm-10 mt-2 border-bottom pt-3'></div>
        <div class='col-sm-1 mt-2 '></div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Demanda</label>
          <input readonly class='form-control' [value]='this.ordemF.demanda' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Ação</label>
          <input readonly class='form-control' [value]='this.ordemF.acao' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Tipo</label>
          <input readonly class='form-control' [value]='this.ordemF.tipo' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">CDTI</label>
          <input readonly class='form-control' [value]='this.ordemF.cdTI' />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data de Abertura</label>
          <input readonly class='form-control' [value]="ordemF.dtAbertura | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data de Previsão</label>
          <input readonly class='form-control' [value]="ordemF.dtPrevisao | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-6 mt-2'>
          <label class="font-weight-bold">Responsável Técnico</label>
          <input readonly class='form-control' [value]="ordemF.responsavelTecnico | titlecase" />
        </div>
        <div class='col-sm-6 mt-2'>
          <label class="font-weight-bold">Gerente Técnico</label>
          <input readonly class='form-control' [value]="ordemF.gerenteTecnico | titlecase" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data de Entrega</label>
          <input readonly class='form-control' [value]="ordemF.dtEntrega | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data de Devolução</label>
          <input readonly class='form-control' [value]="ordemF.dtDevolvida | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data Recusa</label>
          <input readonly class='form-control' [value]="ordemF.dtRecusa | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Data de Aceite</label>
          <input readonly class='form-control' [value]="ordemF.dtAceite | date: 'dd/MM/yyyy' : '+180'" />
        </div>
        <div class='col-sm-4 mt-2'>
          <label class="font-weight-bold">Situação - GENTI</label>
          <input readonly class='form-control' [value]="ordemF.situacaoGenti.descricao" />
        </div>
      </div>
    </div>
    <div class='container border-bottom pb-2'>
      <h5>Responsável OF</h5>
    </div>
    <form [formGroup]="formColab" (ngSubmit)='onSubmit(formColab.value)'>
      <div class='container mt-2'>
        <div class='form-group row'>
          <div class='col-sm-6'>
            <label class="font-weight-bold">Colaborador</label>
            <div class='custom-control custom-checkbox' formArrayName='colaborador'
              *ngFor='let usuario of this.listaUsuarios; let i = index'>
              <input [value]='usuario.id' [formControlName]='i' type='checkbox' class='custom-control-input' [id]='i' />
              <Label class='custom-control-label custom-pointer' [for]='i'>{{usuario.nome | titlecase}}</Label>
            </div>
          </div>
          <div class='col-sm-6'>
            <label class="font-weight-bold">Situação</label>
            <select class='form-control' formControlName='situacao'>
              <option *ngFor='let sit of this.listaSituacao; let i = index;' [value]='sit.id'>
                {{sit.descricao}}
              </option>
            </select>
          </div>
          <div class='col-sm-4 mt-3'>
            <label class="font-weight-bold">Referência OF</label>
            <input type='text' formControlName='referencia' mask="00/0000" class='form-control' placeholder="mes/ano" />
          </div>
          <div class='col-sm-8'></div>
          <div class='col-sm-4 mt-4'></div>
          <div class='col-sm-4 mt-4'>
            <input type='submit' class='form-control bg-success text-white' value="Enviar" />
          </div>
          <div class='col-sm-4 mt-4'></div>
        </div>
      </div>
    </form>
    <div class="card-footer text-muted custom-footer">
    </div>
  </div>
</div>
<ng-template #carregando>
  <div class='container-fluid d-flex justify-content-center align-items-center mt-5'>
    <i class="fa fa-refresh fa-spin fa-4x" aria-hidden="true"></i>
  </div>
</ng-template>